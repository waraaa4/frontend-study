<!-- 비동기함수 활용예시 -->

<!DOCTYPE html>
<html lang="en">

<head>
    <title>콜백함수를 사용하여 회원가입시 아이디 중복 체크하기</title>
    <script src="../js/jquery-3.7.1.min.js"></script>
    <script>
        const result = true; //참이면 중복, 거짓이면 중복아님

        //아이디중복체크 함수
        function func() {
            setTimeout(function () { // 서버에 아이디 중복여부를 요청
                if (result) { //결과가 중복이면 에러메세지를 화면에 표출함
                    $("p").show();
                    $("#id").focus();
                } else { //결과가 중복이 아니면 안내메세지를 화면에 표출함
                    $("p").hide();
                    alert('사용가능한 아이디입니다!')
                }
            }, 3000);
        };

        // 콜백 함수의 내용이 길어지면 코드가 복잡해지고 가독성이 떨어진다.
        // 이러한 문제를 해결하기 위해 promise 등을 사용한다.
    </script>
</head>

<body>
    <h2>회원가입</h2>
    <label for="id">아이디</label>
    <input type="text" id="id" name="id">
    <button onclick="func();">중복체크</button>
    <label for="password">패스워드</label>
    <input type="password" id="password" name="password">
    <p style="color: red; display: none;">아이디가 중복되었습니다!</p>
</body>

</html>